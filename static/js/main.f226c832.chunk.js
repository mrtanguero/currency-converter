(this["webpackJsonpcurrency-converter"]=this["webpackJsonpcurrency-converter"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n(4),s=n.n(c),o=n(3),l=n.n(o),u=n(5),i=n(6),d=n(7),h=n(9),j=n(8);n(16);function m(e){var t=e.options,n=e.label,a=e.onChange,c=e.selected,s=t.map((function(e,t){return Object(r.jsx)("option",{value:e.code,children:e.currency},t)}));return Object(r.jsxs)("div",{className:"field",children:[Object(r.jsx)("label",{children:n}),Object(r.jsx)("select",{className:"ui fluid dropdown",onChange:a,value:c,children:s})]})}function b(e){var t=e.state;return null===t.result?null:"loading"===t.result?Object(r.jsx)("div",{className:"ui active inverted dimmer",children:Object(r.jsx)("div",{className:"ui text loader",children:"Loading"})}):Number.isNaN(t.result)?Object(r.jsx)("div",{className:"message red",children:Object(r.jsx)("h2",{children:"Invalid amount."})}):"error"===t.result?Object(r.jsx)("div",{className:"message red",children:Object(r.jsx)("h2",{children:"API call failed. Check console for details."})}):Object(r.jsx)("div",{className:"message",children:Object(r.jsxs)("h1",{children:[Object(r.jsx)("span",{className:"amount",children:t.amount}),Object(r.jsx)("span",{className:"currency",children:t.from})," ="," ",Object(r.jsx)("span",{className:"amount",children:t.result}),Object(r.jsx)("span",{className:"currency",children:t.to})]})})}var v=[{currency:"Euro (EUR)",code:"EUR"},{currency:"US Dollar (USD)",code:"USD"},{currency:"British Pound (GBP)",code:"GBP"},{currency:"Serbian Dinar (RSD)",code:"RSD"}],f=function(e){Object(h.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={amount:"",from:"EUR",to:"USD",result:null},e.handleChangeFrom=function(t){e.setState({from:t.target.value})},e.handleChangeTo=function(t){e.setState({to:t.target.value})},e.fetchResult=Object(u.a)(l.a.mark((function t(){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.state.amount){t.next=2;break}return t.abrupt("return");case 2:if(!Number.isNaN(Number(e.state.amount))){t.next=5;break}return e.setState({result:NaN}),t.abrupt("return");case 5:return e.setState({result:"loading"}),t.prev=6,t.next=9,fetch("https://free.currconv.com/api/v7/convert?q=".concat(e.state.from,"_").concat(e.state.to,"&compact=ultra&apiKey=c76442b6c7b8eedc11f2"));case 9:return n=t.sent,t.next=12,n.json();case 12:r=t.sent,a=r["".concat(e.state.from,"_").concat(e.state.to)],e.setState({result:(e.state.amount*a).toFixed(2)}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(6),e.setState({result:"error"}),console.error(t.t0.message);case 21:case"end":return t.stop()}}),t,null,[[6,17]])}))),e}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{className:"ui form container",children:[Object(r.jsx)("h1",{children:"Currency Converter"}),Object(r.jsxs)("div",{className:"field",children:[Object(r.jsx)("label",{children:"Amount to convert"}),Object(r.jsx)("input",{type:"text",value:this.state.amount,onChange:function(t){null!==e.state.result&&e.setState({result:null}),e.setState({amount:t.target.value})},onKeyUp:function(t){console.log(t),"Enter"===t.key&&e.fetchResult()},placeholder:"Enter the amount"})]}),Object(r.jsx)(m,{options:v,label:"From",selected:this.state.from,onChange:this.handleChangeFrom}),Object(r.jsx)(m,{options:v,label:"To",selected:this.state.to,onChange:this.handleChangeTo}),Object(r.jsx)("button",{className:"ui violet button",onClick:this.fetchResult,children:"Convert"}),Object(r.jsx)(b,{state:this.state})]})}}]),n}(a.Component);n(17);s.a.render(Object(r.jsx)(f,{}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f226c832.chunk.js.map